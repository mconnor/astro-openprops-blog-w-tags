---
import BaseHead from '@components/BaseHead.astro'
import Header from '@components/Header.astro'
import Footer from '@components/Footer.astro'
import GlobalStyle from '@styles/GlobalStyle.astro'
import { ViewTransitions } from 'astro:transitions'
type Props = {
    pageTitle: string
    description?: string
    image?: string
    surfaceClass?: 'surface-1' | 'surface-2' | 'surface-3' | 'surface-4'
}

// const isProd = import.meta.env.PROD
// const isDev = import.meta.env.DEV

const {
    pageTitle,
    description = 'my description',
    image = '/placeholder-social.jpg',
    surfaceClass = 'surface-4',
} = Astro.props

const canonicalURL = new URL(Astro.url.pathname, Astro.site)
---

<html transition:animate="none">
    <head>
        <BaseHead title={pageTitle} description={description} image={image} />

        <link rel="canonical" href={canonicalURL} />
        <GlobalStyle />
        <ViewTransitions />
    </head>

    <body class:list={[surfaceClass]}>
        <div style="grid-area: header">
            <Header />
        </div>

        <div style="grid-area: headline">
            <h1 transition:animate="fade">
                {pageTitle}
            </h1>
        </div>

        <div style="grid-area: main">
            <main transition:animate="slide" class="mainClass">
                <slot />
            </main>
        </div>
        <div style="grid-area: footer">
            <Footer class={surfaceClass} />
        </div>
    </body><style>
        body {
            overflow-x: hidden;
            display: grid;
            justify-items: center;

            align-items: start;
            grid-template-rows: 1fr 1fr 5fr 1fr;
            grid-template-areas:
                '. header .'
                '. headline .'
                '. main . '
                '. footer .';
            height: 100vh;
            grid-row-gap: var(--size-fluid-3);

            /* accent-color: var(--link); */
        }
    </style>
</html>
