---
// import { Debug } from 'astro:components';
import Layout from '@/layouts/BaseLayout.astro';
import { Box, Stack } from '@cc/index.js';
import { getCollection } from 'astro:content';
import BlogCard from '@/components/BlogCard/index.astro';

// import type { CollectionEntry } from 'astro:content';

const pageTitle = 'Blog';
const publishsedPosts = await getCollection('blog');

// list of all blog post
---

<Layout title={pageTitle}>
  <Stack space="var(--s1)">
    <Box><h2>{pageTitle}</h2></Box>
    {
      publishsedPosts.map((post) => (
        <BlogCard
          backgroundColor="var(--surface-4)"
          foregroundColor="var(--text-2)"
          slug={post.slug}
        />
      ))
    }
  </Stack>
</Layout>
